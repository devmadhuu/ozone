rule_id,rule_name,component,feature_area,config_key,config_type,rule_type,validation_expression,source_data_type,source_data_value,source_data_unit,severity,violation_message,recommendation,reasoning,applicable_workloads,related_jiras
DN-CACHE-001,Cache Size vs Handler Count,DATANODE,CACHE,dfs.container.chunk.write.cache.size,SIZE,RELATIONSHIP,cache_size / handler_count >= 10485760,LIVE_METRIC,"Hadoop:service=DataNode,name=RpcActivityForPort*:NumOpenConnections",count,CRITICAL,Cache size too small for handler count - risk of OOM,Increase dfs.container.chunk.write.cache.size to at least 512MB or reduce dfs.container.ipc.handlers,If cache is small and handlers are many there will be memory pressure leading to OOM,ALL,HDDS-1234
DN-STOR-001,Disk Reserved Space Check,DATANODE,STORAGE,dfs.datanode.du.reserved,SIZE,RELATIONSHIP,reserved_space >= total_capacity * 0.1,LIVE_METRIC,"Hadoop:service=DataNode,name=FSDatasetState:Capacity",bytes,WARNING,Reserved space is less than 10% of total capacity,Increase dfs.datanode.du.reserved to at least 10% of disk capacity,Insufficient reserved space can lead to disk full errors during normal operations,ALL,HDDS-2345
DN-HB-001,Heartbeat Configuration,DATANODE,HEARTBEAT,hdds.heartbeat.interval,DURATION,RELATIONSHIP,heartbeat_interval * 3 <= heartbeat_timeout,STATIC_THRESHOLD,30000,milliseconds,ERROR,Heartbeat timeout is too short relative to interval,"Increase hdds.heartbeat.timeout to at least 3x the heartbeat interval (minimum 90s)",Timeout should be at least 3x heartbeat interval to prevent false node failures,ALL,HDDS-3456
DN-PERF-001,Container Delete Threads,DATANODE,PERFORMANCE,hdds.datanode.container.delete.threads.max,INT,RANGE,value >= 2 AND value <= 10,STATIC_THRESHOLD,2:10,count,WARNING,Container delete threads outside recommended range,Set hdds.datanode.container.delete.threads.max to 5 for balanced performance,"Too few threads: slow container deletion. Too many threads: resource contention and CPU overhead",ALL,
DN-IO-001,Chunk Size Configuration,DATANODE,CONTAINER_IO,ozone.chunk.size,SIZE,RANGE,value >= 1048576 AND value <= 16777216,STATIC_THRESHOLD,1048576:16777216,bytes,WARNING,Chunk size is outside optimal range,Set ozone.chunk.size to 4MB (4194304 bytes) for best performance,"Smaller chunk sizes increase metadata overhead. Larger sizes cause memory pressure and increase recovery time",ALL,HDDS-4567